package com.acron.device;

import java.util.Timer;

import org.apache.log4j.BasicConfigurator;

import com.sybase.sup.admin.client.SUPApplication;
import com.sybase.sup.admin.client.SUPDomain;
import com.sybase.sup.admin.client.SUPMobileWorkflow;
import com.sybase.sup.admin.client.SUPObjectFactory;
import com.sybase.sup.admin.client.SUPServer;
import com.sybase.sup.admin.context.AgentContext;
import com.sybase.sup.admin.context.ClusterContext;
import com.sybase.sup.admin.context.DomainContext;
import com.sybase.sup.admin.context.ServerContext;

public class AssignDeviceApp {

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		
		BasicConfigurator.configure();
		
		AgentContext agentContext = new AgentContext(mHost, mAgentPort, mUsername, mPassword);
		ServerContext serverContext = new ServerContext(mHost, mMngPort, mUsername, mPassword,false, agentContext);
		ClusterContext clusterContext = serverContext.getClusterContext("relay");
		SUPServer server = SUPObjectFactory.getSUPServer(serverContext);
		SUPDomain domain = SUPObjectFactory.getSUPDomain(new DomainContext(serverContext.getClusterContext("relay"), "default"));
		SUPApplication app = SUPObjectFactory.getSUPApplication(clusterContext);
		SUPMobileWorkflow mobileWorkflow = SUPObjectFactory.getSUPMobileWorkflow(clusterContext);
		
		Timer timer = new Timer("AssignDeviceTimer");
		
		//AssignDeviceTask assignDeviceTask = new AssignDeviceTask();
		
		
		timer.schedule(new AssignDeviceTask(), 0, 120 * 1000);
		
	}

}
